"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8366],{8366:(O,g,r)=>{r.r(g),r.d(g,{TabpacientePageModule:()=>T});var p=r(177),d=r(9417),o=r(4742),u=r(6766),m=r(467),P=r(8752),n=r(4438),f=r(7793);function b(t,s){if(1&t){const a=n.RV6();n.j41(0,"ion-item",9)(1,"ion-label")(2,"h2"),n.EFF(3),n.k0s(),n.j41(4,"p"),n.nrm(5,"ion-icon",10),n.EFF(6),n.k0s(),n.j41(7,"p"),n.nrm(8,"ion-icon",11),n.EFF(9),n.k0s()(),n.j41(10,"ion-buttons",2)(11,"ion-button",12),n.bIt("click",function(){const i=n.eBV(a).$implicit,c=n.XpG();return n.Njj(c.editPatient(i))}),n.nrm(12,"ion-icon",13),n.k0s(),n.j41(13,"ion-button",14),n.bIt("click",function(){const i=n.eBV(a).$implicit,c=n.XpG();return n.Njj(c.deletePatient(i.id_paciente))}),n.nrm(14,"ion-icon",15),n.k0s()()()}if(2&t){const a=s.$implicit;n.R7$(3),n.Lme("",a.Nombres," ",a.Apellidos,""),n.R7$(3),n.SpI(" DNI: ",a.DNI," "),n.R7$(3),n.SpI(" Sexo: ","M"===a.Sexo?"Masculino":"Femenino"," ")}}function h(t,s){1&t&&(n.j41(0,"div",16),n.nrm(1,"ion-icon",17),n.j41(2,"h3"),n.EFF(3,"No se encontraron pacientes"),n.k0s(),n.j41(4,"p"),n.EFF(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),n.k0s()())}const M=[{path:"",component:(()=>{var t;class s{constructor(e,i,c){this.pacienteService=e,this.alertController=i,this.modalCtrl=c,this.patients=[],this.filteredPatients=[],this.searchTerm=""}ngOnInit(){this.loadPatients()}loadPatients(){this.pacienteService.getAllPacientes().subscribe(e=>{this.patients=e,this.filteredPatients=[...this.patients],console.log("Pacientes cargados:",this.patients)})}openAddPacienteModal(){var e=this;return(0,m.A)(function*(){const i=yield e.modalCtrl.create({component:P.w});return i.onDidDismiss().then(c=>{c.data&&e.loadPatients()}),yield i.present()})()}editPatient(e){var i=this;return(0,m.A)(function*(){if(void 0!==e.id_paciente){const c=yield i.modalCtrl.create({component:P.w,componentProps:{paciente:e}});return c.onDidDismiss().then(l=>{l.data&&i.loadPatients()}),yield c.present()}console.error("El ID del paciente es undefined.")})()}searchPatients(){const e=this.searchTerm.toLowerCase();this.filteredPatients=this.patients.filter(i=>i.Nombres.toLowerCase().includes(e)||i.DNI.includes(e))}deletePatient(e){void 0!==e?this.pacienteService.deletePaciente(e).subscribe(()=>{this.loadPatients()}):console.error("El ID del paciente es undefined.")}}return(t=s).\u0275fac=function(e){return new(e||t)(n.rXU(f.h),n.rXU(o.hG),n.rXU(o.W3))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-tabpaciente"]],decls:14,vars:3,consts:[[1,"ion-no-border"],["name","people-outline",1,"ion-margin-end"],["slot","end"],[1,"add-button",3,"click"],["name","add-circle-outline","slot","start"],[1,"ion-padding"],["placeholder","Buscar por nombre o DNI","animated","true","mode","ios",3,"ngModelChange","ionInput","ngModel"],["lines","none","class","patient-card",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["lines","none",1,"patient-card"],["name","card-outline"],["name","person-outline"],["fill","clear","color","primary",3,"click"],["name","create-outline","slot","icon-only"],["fill","clear","color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[1,"no-results"],["name","search-outline","size","large"]],template:function(e,i){1&e&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n.nrm(3,"ion-icon",1),n.EFF(4," Gesti\xf3n de Pacientes "),n.k0s(),n.j41(5,"ion-buttons",2)(6,"ion-button",3),n.bIt("click",function(){return i.openAddPacienteModal()}),n.nrm(7,"ion-icon",4),n.EFF(8," Nuevo Paciente "),n.k0s()()()(),n.j41(9,"ion-content",5)(10,"ion-searchbar",6),n.mxI("ngModelChange",function(l){return n.DH7(i.searchTerm,l)||(i.searchTerm=l),l}),n.bIt("ionInput",function(){return i.searchPatients()}),n.k0s(),n.j41(11,"ion-list"),n.DNE(12,b,15,4,"ion-item",7),n.k0s(),n.DNE(13,h,6,0,"div",8),n.k0s()),2&e&&(n.R7$(10),n.R50("ngModel",i.searchTerm),n.R7$(2),n.Y8G("ngForOf",i.filteredPatients),n.R7$(),n.Y8G("ngIf",0===i.filteredPatients.length))},dependencies:[p.Sq,p.bT,d.BC,d.vS,o.Jm,o.QW,o.W9,o.eU,o.iq,o.uz,o.he,o.nf,o.S1,o.BC,o.ai,o.Gw],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #f5f5f5}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#2c3e50}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:1.1rem}ion-searchbar[_ngcontent-%COMP%]{--background: #ffffff;--box-shadow: 0 2px 8px rgba(0,0,0,.1);margin:10px;border-radius:10px}ion-list[_ngcontent-%COMP%]{padding:10px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;margin-bottom:10px;border-radius:8px;--border-radius: 8px;box-shadow:0 2px 4px #0000001a}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#2c3e50;margin-bottom:3px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:5px;--border-radius: 6px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--background: #e74c3c}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color=danger]){--background: #3498db}@media (min-width: 768px){ion-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:15px}}"]}),s})()}];let C=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[u.iI.forChild(M),u.iI]}),s})();var _=r(9518);let T=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[p.MD,d.YN,d.X1,o.bv,C,_.AddPacientePageModule]}),s})()}}]);