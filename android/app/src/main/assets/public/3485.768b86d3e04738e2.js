"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(U,p,d)=>{d.r(p),d.d(p,{LoginPageModule:()=>B});var _=d(177),l=d(9417),u=d(4742),f=d(6766),m=d(467),e=d(4438),x=d(4796),b=d(3656);const v=n=>({"fade-in":n});function F(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"El DNI es obligatorio."),e.k0s())}function k(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"El DNI debe tener al menos 8 caracteres. "),e.k0s())}function h(n,r){if(1&n&&(e.j41(0,"div",14),e.DNE(1,F,2,0,"ion-text",15)(2,k,2,0,"ion-text",15),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.formLogin.get("dni"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.formLogin.get("dni"))||null==t.errors?null:t.errors.minlength)}}function L(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"La contrase\xf1a es obligatoria."),e.k0s())}function P(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"La contrase\xf1a debe tener al menos 6 caracteres. "),e.k0s())}function R(n,r){if(1&n&&(e.j41(0,"div",14),e.DNE(1,L,2,0,"ion-text",15)(2,P,2,0,"ion-text",15),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.formLogin.get("password"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.formLogin.get("password"))||null==t.errors?null:t.errors.minlength)}}function I(n,r){if(1&n&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&n){const o=e.XpG(2);e.R7$(),e.SpI(" ",o.errorMessage," ")}}function E(n,r){if(1&n){const o=e.RV6();e.j41(0,"div",5)(1,"form",6)(2,"div",7),e.nrm(3,"ion-img",8),e.k0s(),e.j41(4,"ion-item")(5,"ion-label",9),e.EFF(6,"DNI"),e.k0s(),e.nrm(7,"ion-input",10),e.k0s(),e.DNE(8,h,3,2,"div",11),e.j41(9,"ion-item")(10,"ion-label",9),e.EFF(11,"Contrase\xf1a"),e.k0s(),e.nrm(12,"ion-input",12),e.k0s(),e.DNE(13,R,3,2,"div",11)(14,I,2,1,"div",11),e.j41(15,"ion-button",13),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.iniciar())}),e.EFF(16,"Iniciar Sesi\xf3n"),e.k0s()()()}if(2&n){let o,t;const i=e.XpG();e.Y8G("ngClass",e.eq3(5,v,"login"===i.segment)),e.R7$(),e.Y8G("formGroup",i.formLogin),e.R7$(7),e.Y8G("ngIf",(null==(o=i.formLogin.get("dni"))?null:o.invalid)&&(null==(o=i.formLogin.get("dni"))?null:o.touched)),e.R7$(5),e.Y8G("ngIf",(null==(t=i.formLogin.get("password"))?null:t.invalid)&&(null==(t=i.formLogin.get("password"))?null:t.touched)),e.R7$(),e.Y8G("ngIf",i.errorMessage)}}function C(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"El DNI es obligatorio. "),e.k0s())}function j(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"El DNI debe tener al menos 8 caracteres. "),e.k0s())}function G(n,r){if(1&n&&(e.j41(0,"div",14),e.DNE(1,C,2,0,"ion-text",15)(2,j,2,0,"ion-text",15),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.formRegistro.get("DNI"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.formRegistro.get("DNI"))||null==t.errors?null:t.errors.minlength)}}function N(n,r){1&n&&(e.j41(0,"div",14)(1,"ion-text",16),e.EFF(2,"El nombre es obligatorio."),e.k0s()())}function M(n,r){1&n&&(e.j41(0,"div",14)(1,"ion-text",16),e.EFF(2,"El apellido es obligatorio. "),e.k0s()())}function y(n,r){1&n&&(e.j41(0,"div",14)(1,"ion-text",16),e.EFF(2,"El sexo es obligatorio. "),e.k0s()())}function D(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"El correo es obligatorio. "),e.k0s())}function T(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"Ingrese un correo v\xe1lido. "),e.k0s())}function Y(n,r){if(1&n&&(e.j41(0,"div",14),e.DNE(1,D,2,0,"ion-text",15)(2,T,2,0,"ion-text",15),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.formRegistro.get("Correo"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.formRegistro.get("Correo"))||null==t.errors?null:t.errors.email)}}function $(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"La contrase\xf1a es obligatoria. "),e.k0s())}function w(n,r){1&n&&(e.j41(0,"ion-text",16),e.EFF(1,"La contrase\xf1a debe tener al menos 6 caracteres. "),e.k0s())}function X(n,r){if(1&n&&(e.j41(0,"div",14),e.DNE(1,$,2,0,"ion-text",15)(2,w,2,0,"ion-text",15),e.k0s()),2&n){let o,t;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(o=i.formRegistro.get("Password"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=i.formRegistro.get("Password"))||null==t.errors?null:t.errors.minlength)}}function O(n,r){if(1&n&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&n){const o=e.XpG(2);e.R7$(),e.SpI(" ",o.errorMessage," ")}}function S(n,r){if(1&n){const o=e.RV6();e.j41(0,"div",5)(1,"form",6)(2,"div",7),e.nrm(3,"ion-img",8),e.k0s(),e.j41(4,"ion-item")(5,"ion-label",9),e.EFF(6,"DNI"),e.k0s(),e.nrm(7,"ion-input",17),e.k0s(),e.DNE(8,G,3,2,"div",11),e.j41(9,"ion-item")(10,"ion-label",9),e.EFF(11,"Nombres"),e.k0s(),e.nrm(12,"ion-input",18),e.k0s(),e.DNE(13,N,3,0,"div",11),e.j41(14,"ion-item")(15,"ion-label",9),e.EFF(16,"Apellidos"),e.k0s(),e.nrm(17,"ion-input",19),e.k0s(),e.DNE(18,M,3,0,"div",11),e.j41(19,"ion-item")(20,"ion-label"),e.EFF(21,"Sexo"),e.k0s(),e.j41(22,"ion-select",20)(23,"ion-select-option",21),e.EFF(24,"Masculino"),e.k0s(),e.j41(25,"ion-select-option",22),e.EFF(26,"Femenino"),e.k0s()()(),e.DNE(27,y,3,0,"div",11),e.j41(28,"ion-item")(29,"ion-label",9),e.EFF(30,"Correo"),e.k0s(),e.nrm(31,"ion-input",23),e.k0s(),e.DNE(32,Y,3,2,"div",11),e.j41(33,"ion-item")(34,"ion-label",9),e.EFF(35,"Contrase\xf1a"),e.k0s(),e.nrm(36,"ion-input",24),e.k0s(),e.DNE(37,X,3,2,"div",11)(38,O,2,1,"div",11),e.j41(39,"ion-button",25),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.registrar())}),e.EFF(40,"Registrar"),e.k0s()()()}if(2&n){let o,t,i,c,a,g;const s=e.XpG();e.Y8G("ngClass",e.eq3(9,v,"register"===s.segment)),e.R7$(),e.Y8G("formGroup",s.formRegistro),e.R7$(7),e.Y8G("ngIf",(null==(o=s.formRegistro.get("DNI"))?null:o.invalid)&&(null==(o=s.formRegistro.get("DNI"))?null:o.touched)),e.R7$(5),e.Y8G("ngIf",(null==(t=s.formRegistro.get("Nombres"))?null:t.invalid)&&(null==(t=s.formRegistro.get("Nombres"))?null:t.touched)),e.R7$(5),e.Y8G("ngIf",(null==(i=s.formRegistro.get("Apellidos"))?null:i.invalid)&&(null==(i=s.formRegistro.get("Apellidos"))?null:i.touched)),e.R7$(9),e.Y8G("ngIf",(null==(c=s.formRegistro.get("Sexo"))?null:c.invalid)&&(null==(c=s.formRegistro.get("Sexo"))?null:c.touched)),e.R7$(5),e.Y8G("ngIf",(null==(a=s.formRegistro.get("Correo"))?null:a.invalid)&&(null==(a=s.formRegistro.get("Correo"))?null:a.touched)),e.R7$(5),e.Y8G("ngIf",(null==(g=s.formRegistro.get("Password"))?null:g.invalid)&&(null==(g=s.formRegistro.get("Password"))?null:g.touched)),e.R7$(),e.Y8G("ngIf",s.errorMessage)}}const A=[{path:"",component:(()=>{var n;class r{constructor(t,i,c,a,g){this.router=t,this.authService=i,this.formBuilder=c,this.navCtrl=a,this.alertController=g,this.segment="login",this.errorMessage="",this.formLogin=this.formBuilder.group({dni:["",[l.k0.required,l.k0.minLength(8)]],password:["",[l.k0.required,l.k0.minLength(6)]]}),this.formRegistro=this.formBuilder.group({Nombres:["",l.k0.required],Apellidos:["",l.k0.required],DNI:["",[l.k0.required,l.k0.minLength(8)]],Password:["",[l.k0.required,l.k0.minLength(6)]],Correo:["",[l.k0.required,l.k0.email]],Sexo:["",l.k0.required]})}ngOnInit(){}iniciar(){var t=this;return(0,m.A)(function*(){var a;t.authService.verificarLogin(t.formLogin.value.dni,t.formLogin.value.password).subscribe({next:(a=(0,m.A)(function*(g){g.login&&g.data?(localStorage.setItem("id_doctor",g.data.id_doctor.toString()),t.authService.setDoctorData(g.data),t.navCtrl.navigateRoot("tabs/tabs/tab1")):yield(yield t.alertController.create({header:"Error",message:"Credenciales incorrectas",buttons:["Aceptar"]})).present()}),function(s){return a.apply(this,arguments)}),error:function(){var a=(0,m.A)(function*(g){yield(yield t.alertController.create({header:"Error",message:"Hubo un problema con la autenticaci\xf3n. Int\xe9ntalo de nuevo.",buttons:["Aceptar"]})).present()});return function(s){return a.apply(this,arguments)}}()})})()}registrar(){var t=this;return(0,m.A)(function*(){var c;t.authService.crearDoctor(t.formRegistro.value).subscribe({next:(c=(0,m.A)(function*(a){yield(yield t.alertController.create({header:"\xc9xito",message:"Registro exitoso",buttons:["Aceptar"]})).present(),t.segment="login"}),function(g){return c.apply(this,arguments)}),error:function(){var c=(0,m.A)(function*(a){console.error("Error al crear doctor:",a),t.errorMessage="Hubo un problema con el registro. Int\xe9ntalo de nuevo.",yield(yield t.alertController.create({header:"Error",message:t.errorMessage,buttons:["Aceptar"]})).present()});return function(g){return c.apply(this,arguments)}}()})})()}}return(n=r).\u0275fac=function(t){return new(t||n)(e.rXU(f.Ix),e.rXU(x.u),e.rXU(l.ok),e.rXU(b.q9),e.rXU(u.hG))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],inputs:{doctor:"doctor"},decls:11,vars:3,consts:[[1,"segment-custom",3,"ngModelChange","ngModel"],["value","login"],["value","register"],[1,"form-card"],["class","form-container",3,"ngClass",4,"ngIf"],[1,"form-container",3,"ngClass"],[3,"formGroup"],[1,"center-content"],["src","assets/login.svg",1,"segment-icon"],["position","floating"],["formControlName","dni","name","dni"],["class","error-message",4,"ngIf"],["type","password","formControlName","password","name","password"],["expand","full",3,"click"],[1,"error-message"],["color","danger",4,"ngIf"],["color","danger"],["type","text","formControlName","DNI"],["type","text","formControlName","Nombres"],["type","text","formControlName","Apellidos"],["formControlName","Sexo"],["value","M"],["value","F"],["type","email","formControlName","Correo"],["type","password","formControlName","Password"],["expand","full","type","submit",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-content")(1,"ion-segment",0),e.mxI("ngModelChange",function(a){return e.DH7(i.segment,a)||(i.segment=a),a}),e.j41(2,"ion-segment-button",1)(3,"ion-label"),e.EFF(4,"Iniciar Sesi\xf3n"),e.k0s()(),e.j41(5,"ion-segment-button",2)(6,"ion-label"),e.EFF(7,"Registrar"),e.k0s()()(),e.j41(8,"ion-card",3),e.DNE(9,E,17,7,"div",4)(10,S,41,11,"div",4),e.k0s()()),2&t&&(e.R7$(),e.R50("ngModel",i.segment),e.R7$(8),e.Y8G("ngIf","login"===i.segment),e.R7$(),e.Y8G("ngIf","register"===i.segment))},dependencies:[_.YU,_.bT,l.qT,l.BC,l.cb,l.vS,u.Jm,u.b_,u.W9,u.KW,u.$w,u.uz,u.he,u.Gp,u.eP,u.Nm,u.Ip,u.IO,u.Je,u.Gw,l.j4,l.JD],styles:[".segment-custom[_ngcontent-%COMP%]{--background: #f8f9fa;--indicator-color: #007bff;--indicator-height: 4px;--button-background: #ffffff;--button-background-checked: #007bff;--button-color-checked: #ffffff;--button-color: #007bff;--button-border-radius: 20px;margin:20px}.form-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fade-in[_ngcontent-%COMP%]{opacity:1;transition:opacity .5s ease-in-out}ion-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: 10px;margin-bottom:15px}ion-button[_ngcontent-%COMP%]{--background: #007bff;--border-radius: 20px;--box-shadow: 0 4px 6px rgba(0, 0, 0, .1)}.segment-custom[_ngcontent-%COMP%]{margin:16px}.form-card[_ngcontent-%COMP%]{margin:16px;padding:16px}.form-container[_ngcontent-%COMP%]{padding:16px}.center-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.segment-icon[_ngcontent-%COMP%]{width:350px;height:350px}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),r})()}];let q=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.iI.forChild(A),f.iI]}),r})(),B=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[_.MD,l.YN,u.bv,q,l.X1]}),r})()}}]);