"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2506],{2506:(E,h,c)=>{c.r(h),c.d(h,{Listapredict2PageModule:()=>k});var u=c(177),d=c(9417),a=c(4742),g=c(6766),p=c(7468),m=c(6354),t=c(4438),P=c(1626),b=c(6936);function F(o,l){if(1&o){const n=t.RV6();t.j41(0,"ion-row")(1,"ion-col",3),t.EFF(2),t.k0s(),t.j41(3,"ion-col",3),t.EFF(4),t.k0s(),t.j41(5,"ion-col",3),t.EFF(6),t.k0s(),t.j41(7,"ion-col",3),t.EFF(8),t.k0s(),t.j41(9,"ion-col",3),t.EFF(10),t.k0s(),t.j41(11,"ion-col",3),t.EFF(12),t.k0s(),t.j41(13,"ion-col",10)(14,"ion-button",11),t.bIt("click",function(){const i=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.eliminar(i.id_registro))}),t.EFF(15,"Eliminar"),t.k0s()()()}if(2&o){const n=l.$implicit;t.R7$(2),t.JRh(n.DNI),t.R7$(2),t.JRh(n.Nombres),t.R7$(2),t.JRh(n.Edad),t.R7$(2),t.JRh(n.Hmg),t.R7$(2),t.JRh(n.Fecha),t.R7$(2),t.JRh(n.Resultado)}}const f=[{path:"",component:(()=>{var o;class l{constructor(e,i,s,r){this.http=e,this.service=i,this.alertCtrl=s,this.toastController=r,this.datos=[],this.filteredDatos=[],this.paginatedDatos=[],this.searchTerm="",this.selectedDate="",this.currentPage=1,this.itemsPerPage=10,this.totalPages=1}ngOnInit(){this.obtenerDatos()}obtenerDatos(){this.http.get("https://backendjs-dee6d131d346.herokuapp.com/api/registros2/2").subscribe({next:e=>{const i=e.map(s=>this.http.get(`https://backendjs-dee6d131d346.herokuapp.com/api/pacientes/${s.id_paciente}`).pipe((0,m.T)(r=>({...s,DNI:(null==r?void 0:r.DNI)||"N/A",Nombres:r?`${r.Nombres} ${r.Apellidos}`:"N/A",Fecha:new Date(s.Fecha).toLocaleDateString(),Resultado:this.extraerResultado(s.Resultado)}))));(0,p.p)(i).subscribe({next:s=>{this.datos=s,this.filteredDatos=this.datos,this.totalPages=Math.ceil(this.filteredDatos.length/this.itemsPerPage),this.updatePaginatedDatos(),console.log("Datos recibidos:",this.datos)},error:s=>{console.error("Error al obtener los datos",s)}})},error:e=>{console.error("Error al obtener los datos",e)}})}extraerResultado(e){return e.includes("Tiene el tipo de anemia BTT")?"BTT":e.includes("Tiene el tipo de anemia AIF")?"AIF":e.includes("Tiene el tipo de anemia HbE")?"HbE":e.includes("No tiene anemia")?"NA":"-"}filterDatos(){this.filteredDatos=this.datos.filter(e=>{const i=Object.values(e).some(r=>String(r).toLowerCase().includes(this.searchTerm.toLowerCase())),s=!this.selectedDate||new Date(e.fecha).toLocaleDateString()===new Date(this.selectedDate).toLocaleDateString();return i&&s}),this.totalPages=Math.ceil(this.filteredDatos.length/this.itemsPerPage),this.currentPage=1,this.updatePaginatedDatos()}updatePaginatedDatos(){const e=(this.currentPage-1)*this.itemsPerPage;this.paginatedDatos=this.filteredDatos.slice(e,e+this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePaginatedDatos())}prevPage(){this.currentPage>1&&(this.currentPage--,this.updatePaginatedDatos())}eliminar(e){this.alertCtrl.create({header:"Eliminar",message:"\xbfEst\xe1 seguro de eliminar?"+e,buttons:[{text:"Si",handler:()=>{this.service.Borrar(e).subscribe(()=>{this.presentToast("Registro eliminado"),this.obtenerDatos()})}},{text:"NO"}]}).then(i=>i.present())}presentToast(e){this.toastController.create({message:e,duration:2e3}).then(i=>i.present())}}return(o=l).\u0275fac=function(e){return new(e||o)(t.rXU(P.Qq),t.rXU(b.C),t.rXU(a.hG),t.rXU(a.K_))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-listpredict2"]],decls:32,vars:4,consts:[[1,"custom-content"],["slot","start"],["defaultHref","tabs/tabs/tab1",1,"custom-back-button"],[2,"color","black"],[1,"custom-content",2,"color","black",3,"ngModelChange","ionInput","ngModel"],[1,"responsive-table"],[1,"header-row"],[4,"ngFor","ngForOf"],["slot","end"],[2,"color","black",3,"click","disabled"],[2,"justify-content","center"],["color","secondary",3,"click"]],template:function(e,i){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.j41(4,"ion-title",3),t.EFF(5,"Lista de predicciones de Tipo de Anemia"),t.k0s()()(),t.j41(6,"ion-content",0)(7,"ion-searchbar",4),t.mxI("ngModelChange",function(r){return t.DH7(i.searchTerm,r)||(i.searchTerm=r),r}),t.bIt("ionInput",function(){return i.filterDatos()}),t.k0s(),t.j41(8,"ion-grid",5)(9,"ion-row",6)(10,"ion-col",3),t.EFF(11,"DNI"),t.k0s(),t.j41(12,"ion-col",3),t.EFF(13,"PACIENTE"),t.k0s(),t.j41(14,"ion-col",3),t.EFF(15,"EDAD"),t.k0s(),t.j41(16,"ion-col",3),t.EFF(17,"HMG"),t.k0s(),t.j41(18,"ion-col",3),t.EFF(19,"FECHA"),t.k0s(),t.j41(20,"ion-col",3),t.EFF(21,"TIPO DE ANEMIA"),t.k0s(),t.j41(22,"ion-col",3),t.EFF(23,"ACCIONES"),t.k0s()(),t.DNE(24,F,16,6,"ion-row",7),t.k0s(),t.j41(25,"ion-footer")(26,"ion-toolbar",0)(27,"ion-buttons",8)(28,"ion-button",9),t.bIt("click",function(){return i.prevPage()}),t.EFF(29,"Anterior"),t.k0s(),t.j41(30,"ion-button",9),t.bIt("click",function(){return i.nextPage()}),t.EFF(31,"Siguiente"),t.k0s()()()()()),2&e&&(t.R7$(7),t.R50("ngModel",i.searchTerm),t.R7$(17),t.Y8G("ngForOf",i.paginatedDatos),t.R7$(4),t.Y8G("disabled",1===i.currentPage),t.R7$(2),t.Y8G("disabled",i.currentPage===i.totalPages))},dependencies:[u.Sq,d.BC,d.vS,a.Jm,a.QW,a.hU,a.W9,a.M0,a.lO,a.eU,a.ln,a.S1,a.BC,a.ai,a.Gw,a.el],styles:[".custom-content[_ngcontent-%COMP%] {\n    --background: white;\n  }\n  .custom-back-button[_ngcontent-%COMP%] {\n    --color: black;\n  }"]}),l})()}];let D=(()=>{var o;class l{}return(o=l).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[g.iI.forChild(f),g.iI]}),l})(),k=(()=>{var o;class l{}return(o=l).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[u.MD,d.YN,a.bv,D]}),l})()}}]);